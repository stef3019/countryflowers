var G5_Woocommerce=window.G5_Woocommerce||{};!function(k){"use strict";window.G5_Woocommerce=G5_Woocommerce;var m=k("body"),i=m.hasClass("gf-lazy-load"),r=m.hasClass("rtl"),c=!1;G5_Woocommerce={init:function(){this.initSwitchLayout(),this.processTabs(),this.updateAjaxPosts(),this.addToWishlist(),this.addToCart(),this.quickView(),this.addCartQuantity(),this.initFilterBellow(),this.initFilterAjax(),this.initPerfectSroll();var t=k("#single-product-image-3");t.length&&this.singleProductImageSlick(t);t=k("#single-product-image");t.length&&this.singleProductImage(t),setTimeout(function(){G5_Woocommerce.setCartScrollBar()},500),this.saleCountdown(),this.yith_wcan_ajax_filtered(),this.events(),this.productSize()},isDesktop:function(){return window.matchMedia("(min-width: 1200px)").matches},initFilterAjax:function(){function a(e){var a,t,i=e.closest('[data-items-paging="load-more"]').length?"load_more":e.closest('[data-items-paging="infinite-scroll"]').length?"infinitive":"reload",o=!!(e.closest('[data-items-paging="load-more"]').length||e.closest('[data-items-paging="infinite-scroll"]').length||e.closest('[data-items-paging="pagination-ajax"]').length||e.closest('[data-items-paging="next-prev"]').length),n=!(!e.closest("[data-items-cate]").length&&!e.closest(".gf-product-category-filter").length),s=k("[data-archive-content][data-items-wrapper]");n&&e.parent().hasClass("active")||(G5_Woocommerce.showLoading(s,i),a=e.attr("href"),t=G5_Core.cache.getCache(a,"archive_shop"),c||(c=!0,""!==t?(G5_Woocommerce.onSuccess(s,e,t,a,i,o,n),c=!1):k.ajax({url:a,data:{shop_load_type:"ajax"},dataType:"html",cache:!1,headers:{"cache-control":"no-cache"},method:"POST",error:function(t){console.log(t.error),c=!1,G5_Core.loading_content.hideLoading(s)},success:function(t){G5_Woocommerce.onSuccess(s,e,t,a,i,o,n),G5_Core.cache.addCache(a,t,"archive_shop"),c=!1}})))}k(document).on("click",".clear-filter-wrap a, .gf-price-filter a, .gf-product-sorting a, .gf-attr-filter-content a, .gf-product-category-filter a",function(t){t.preventDefault(),a(k(this))}),k(document).on("archive-product-ajax",function(t,e){a(k(e))})},onSuccess:function(e,t,a,i,o,n,s){var r=k("<div>"+a+"</div>"),c=e.find(".gsf-catalog-filter"),l=e.find(".gf-shop-switch-layout"),d=c.find(".woocommerce-custom-wrap"),u=r.find(".gsf-catalog-filter").find(".woocommerce-custom-wrap"),f=c.find("#gf-filter-content"),m=r.find(".gsf-catalog-filter").find("#gf-filter-content"),p=k("#canvas-filter-wrapper").find(".canvas-sidebar-inner"),g=r.find("#canvas-filter-wrapper").find(".canvas-sidebar-inner"),h=c.find(".clear-filter-wrap"),_=r.find(".gsf-catalog-filter").find(".clear-filter-wrap"),v=r.find("[data-items-container]"),a=r.find("#ajax-page-title").text(),w=e.find("[data-items-container]"),C=w.hasClass("isotope"),c=k(".gf-page-title h1"),y=0<e.find(".gf_animate_when_almost_visible").length,b=e.find("[data-items-paging]"),x=r.find("[data-items-paging]");v.length?(r.find(".gf-shop-switch-layout").html(l.html()),y||v.find("article").css("opacity",0),"reload"===o?(a.length&&s&&(document.title=a,c.length&&c.text(a)),d.html(u.html()),n||(f.html(m.html()),p.length&&g.length&&(p.html(g.html()),p.perfectScrollbar("update"))),G5_Woocommerce.initPerfectSroll(),w.html(v.html())):w.append(v.html()),n||h.length&&_.length&&h.html(_.html()),s&&(e.find("[data-items-cate]").find("li.active").removeClass("active"),t=t.attr("href"),e.find('a[href="'+t+'"]').parent().addClass("active")),e.imagesLoaded({background:!0},function(){var t;!C||void 0!==(t=w.data("isotope-options"))&&("infinitive"!==o?(void 0!==t.masonry&&void 0!==t.masonry.columnWidth&&".gsf-column-base"===t.masonry.columnWidth&&w.append('<article class="gsf-column-base"></article>'),w.isotope("reloadItems").isotope()):w.isotope("appended",v.html()),G5_Core.isotope.layout(w),void 0!==t.masonry&&void 0!==t.masonry.columnWidth&&".gsf-column-base"===t.masonry.columnWidth&&k(window).trigger("resize")),G5_Core.loading_content.hideLoading(e),y?new G5_Core_Animation(e):w.find("article").animate({opacity:1},500,"easeInQuad"),G5_Core.lazyLoad.init(e),"reload"===o&&G5_Core.util.setPushState(i),G5_Core.off_canvas.init(),G5_Woocommerce.widgetSliderInit(),b.length?x.length?b.html(x.html()):b.html(""):x.length&&e.append(x),G5_Core.util.tooltip(),k(".woocommerce-ordering").off("change").on("change","select.orderby",function(){k(this).closest("form").submit()})})):(G5_Core.loading_content.hideLoading(e),r.find(".woocommerce-info").length&&(r=r.find("article").addClass("col-sm-12"),w.html(r)))},initPerfectSroll:function(){k(".gf-product-category-filter-wrap .gf-product-category-filter").perfectScrollbar({wheelSpeed:.5,suppressScrollX:!0})},widgetSliderInit:function(){k(".price_slider").each(function(){var t=k(this),a=k(this).closest(".price_slider_wrapper"),e=a.find("#min_price").data("min"),i=a.find("#max_price").data("max"),o=parseInt(a.find("#min_price").val(),10),n=parseInt(a.find("#max_price").val(),10);isNaN(o)&&(o=parseInt(e,10)),isNaN(n)&&(n=parseInt(i,10)),k("input#min_price, input#max_price",a).hide(),k(".price_slider, .price_label",a).show(),t.slider({range:!0,animate:!0,min:e,max:i,values:[o,n],create:function(){a.find("#min_price").val(o),a.find("#max_price").val(n),k(document.body).trigger("price_slider_create",[o,n])},slide:function(t,e){a.find("#min_price").val(e.values[0]),a.find("#max_price").val(e.values[1]),k(document.body).trigger("price_slider_slide",[e.values[0],e.values[1]])},change:function(t,e){k(document.body).trigger("price_slider_change",[e.values[0],e.values[1]])}})})},showLoading:function(t,e){var a=t.find("[data-items-container]"),i=t.outerHeight(),o=t.children(".gsf-content-loading"),n=t.offset().top-G5_Core.util.getScrollOffset(),s=k(".header-sticky"),r=a.offset().top-t.offset().top,c=0<t.find(".gf_animate_when_almost_visible").length;s.length&&(n-=80),"reload"===e?(r+=100,s=(document.documentElement.scrollTop||document.body.scrollTop)-n,(s=Math.abs(s)/2)<800&&(s=800),k("html,body").animate({scrollTop:n},s,"easeInOutCubic")):(r=t.height(),"load_more"===e&&(r-=100)),o.css("top",r),t.css("height",i).addClass("loading"),"reload"===e&&(c?a.find(".gf_animate_when_almost_visible").addClass("zoom-reverse"):a.find(t.find("article")).animate({opacity:0},500,"easeOutQuad"))},singleProductImageSlick:function(t){var e=k("body").hasClass("rtl"),a=t.find(".single-product-image-main"),i=a.find(".zoom-image"),o=a.find("img").attr("srcset",""),n=t.find(".single-product-image-thumb"),s=null;n.slick({swipeToSlide:!0,infinite:!1,slidesToShow:5,speed:400,arrows:!1,vertical:!0,verticalSwiping:!0,rtl:e,responsive:[{breakpoint:1200,settings:{slidesToShow:5,vertical:!1,verticalSwiping:!1}},{breakpoint:576,settings:{slidesToShow:3,vertical:!1,verticalSwiping:!1,variableWidth:!0}}]}),n.on("mouseenter mouseleave",".slick-slide",function(t){t.preventDefault();var e,t=k(this).data("slick-index");k(this).hasClass("synced")||(t=k(this).find('[data-index="'+t+'"]'),e=t.attr("data-large-image"),t=t.attr("href"),k(this).closest(".slick-slider").find(".slick-slide").removeClass("synced"),k(this).addClass("synced"),i.attr("href",t),null!=s&&clearTimeout(s),s=setTimeout(function(){o.fadeOut(function(){o.attr("src",e).fadeIn(),G5_Core.util.magnificPopup()})},400))}),k(document).on("found_variation",function(t,e){void 0!==e&&void 0!==e.variation_id&&(e=e.variation_id,k('a[data-variation_id*="|'+e+'|"]',n).closest(".slick-slide").trigger("mouseenter"))}),k(document).on("reset_data",function(t){k('a[data-index="0"]',n).closest(".slick-slide").trigger("mouseenter")})},initSwitchLayout:function(){var o=!1;k(document).on("click",".gf-shop-switch-layout li a",function(t){t.preventDefault();var t=k(this),e=t.data("layout"),a=t.closest(".gsf-product-wrap").find('[data-items-container="true"]'),i=t.closest(".gsf-product-wrap").find(".gf-paging");t.closest("li").hasClass("active")||o||(o=!0,t.closest(".gf-shop-switch-layout").children("li").removeClass("active"),t.closest("li").addClass("active"),i.fadeOut(),t.waypoint(function(){k(this.element).addClass("wpb_start_animation animated"),this.destroy()}),a.fadeOut(function(){"list"===e?a.removeClass("layout-grid").addClass("layout-list"):a.removeClass("layout-list").addClass("layout-grid"),G5_Core.util.tooltip(),a.fadeIn("slow"),i.fadeIn("slow")}),k.cookie("product_layout",e,{expires:15}),o=!1)})},processTabs:function(){k(".gsf-pretty-tabs").each(function(){var t,e,a=k(this);(0<a.closest(".custom-product-row").length||0<a.closest(".custom-product-heading-row").length)&&0<(t=(e=0<a.closest(".custom-product-row").length?a.closest(".custom-product-row"):a.closest(".custom-product-heading-row")).find(".gf-heading")).length&&(t=t.find(".heading-title").outerWidth(),r?e.hasClass("heading-right")?a.css("margin-left",t+30):a.css("margin-right",t+30):e.hasClass("heading-right")?a.css("margin-right",t+30):a.css("margin-left",t+30),a.gsfPrettyTabs())})},updateAjaxPosts:function(){var i=this;m.on("gf_pagination_ajax_success",function(t,e,a){"product"===e.settings.post_type&&(i.updateResultCount(k(t.target),e,a),k(t.target).imagesLoaded({background:!0},function(){k(t.target).trigger("gf_update_ajax_product",[e]),G5_Core.util.tooltip(),G5_Woocommerce.saleCountdown()}))})},updateResultCount:function(t,e,a){t=t.find(".woocommerce-result-count"),a=a.find(".woocommerce-result-count");0!==t.length&&0!==a.length&&t.html(a.html())},initFilterBellow:function(){k(document).on("click",".gf-filter-bellow",function(){k("#gf-filter-content").slideToggle("500"),G5_Woocommerce.initPerfectSroll()}),k(".gf-fiter-type-select").length&&k(".gf-fiter-type-select .gf-attr-filter-content").slideUp("100"),k(".gf-product-category-filter-select").length&&k(".gf-product-category-filter-select .gf-product-category-filter").slideUp("100"),k(document).on("click",".gf-fiter-type-select .filter-select-open",function(t){t=k(t.target).closest(".gf-fiter-type-select").toggleClass("opened");t.hasClass("opened")?k(".gf-attr-filter-content",t).slideDown("500"):k(".gf-attr-filter-content",t).slideUp("fast")}),k(document).on("click",".gf-product-category-filter-select .gf-filter-open",function(t){t=k(t.target).closest(".gf-product-category-filter-select").toggleClass("opened");t.hasClass("opened")?k(".gf-product-category-filter",t).slideDown("500"):k(".gf-product-category-filter",t).slideUp("fast")}),k(document).on("click",function(t){k(t.target).closest(".gf-fiter-type-select").length||k(".gf-fiter-type-select").removeClass("opened").find(".gf-attr-filter-content").slideUp("fast"),k(t.target).closest(".gf-product-category-filter-select").length||k(".gf-product-category-filter-select").removeClass("opened").find(".gf-product-category-filter").slideUp("fast")})},addToWishlist:function(){k(document).on("click",".add_to_wishlist",function(){var t=k(this),e=t.parent().parent();e.parent().hasClass("single-product-function")||(t.addClass("added-spinner"),void 0!==(e=e.parent().parent().parent().parent())&&e.addClass("active"))}),m.on("added_to_wishlist",function(t,e,a,i){var o,n=k(".added-spinner.add_to_wishlist"),s=n.parent().parent();s.parent().hasClass("single-product-function")||void 0!==(o=s.parent().parent().parent().parent())&&setTimeout(function(){o.removeClass("active"),n.removeClass("added-spinner")},700)})},addToCart:function(){k(document).on("click",".add_to_cart_button",function(){var t=k(this);t.hasClass("single_add_to_cart_button")||!t.is(".product_type_simple")||void 0!==(t=t.closest(".product-item-inner"))&&t.addClass("active")}),m.on("adding_to_cart",function(t,e,a){var i=e.closest(".product-action-item");e.attr("data-spinner-color",e.css("color")),e.data("spinner-color",e.css("color")),0===e.closest(".product-list-actions").length?e.hasClass("ladda-button")&&0<e.length&&(Ladda.create(e[0]).start(function(){i.css("width",i.width())}),k(window).on("resize",function(){i.css("width","")})):e.hasClass("ladda-button")&&0<e.length&&Ladda.create(e[0]).start()}),m.on("wc_cart_button_updated",function(t,e){var a,i,o,n,s=k(".header-sticky-wrapper .header-sticky"),r=k(".item-shopping-cart",s);e.hasClass("single_add_to_cart_button")||(i=(a=e.parent()).find(".added_to_cart"),o=i.text(),n=a.closest(".product-item-inner"),e.remove(),e.is(".add_to_cart_list")?i.html(o):i.html('<i class="fa fa-check"></i> '+o),0===i.closest(".product-skin-01").length&&0===i.closest(".product-skin-07").length&&setTimeout(function(){a.tooltip("hide").attr("title",o).tooltip("_fixTitle")},500),setTimeout(function(){G5_Woocommerce.setCartScrollBar(function(){var t;0<r.length&&(t=0,s.hasClass("header-hidden")&&(s.removeClass("header-hidden"),t=500),setTimeout(function(){r.addClass("show-cart"),setTimeout(function(){r.removeClass("show-cart")},2e3)},t))})},10),setTimeout(function(){n.removeClass("active")},700))}),m.on("removed_from_cart",function(){setTimeout(function(){G5_Woocommerce.setCartScrollBar(),k(document.body).trigger("update_checkout");var t=k('[name="update_cart"]');t.length&&t.removeAttr("disabled").trigger("click")},10)})},quickView:function(){var f=!1;k(document).on("click",".product-quick-view",function(t){var e,s,r,c,l,d,u;t.preventDefault(),f||(f=!0,t=(e=k(this)).data("product_id"),s="#popup-product-quick-view-wrapper",r=e.find("i"),c=r.attr("class"),l=e.parent().parent().parent().parent(),u=(d=e).hasClass("prev-product")||e.hasClass("next-product"),l.addClass("active"),d.addClass("active"),r.attr("class","fa fa-spinner fa-pulse"),k.ajax({url:spring_plant_variable.ajax_url,data:{action:"product_quick_view",id:t},success:function(a){l.removeClass("active"),d.removeClass("active"),r.attr("class",c);var i,o,t,e,n=k(".modal-body",s);u?(i=k(".modal-content",s),o=k(".product-quickview-navigation",s),i.css({width:i.width(),height:i.height()}),n.fadeOut(function(){n.html(k(".modal-body",a).html()).fadeIn(),o.html(k(".product-quickview-navigation",a).html());var t,e=k(".quick-view-product-image",n);G5_Woocommerce.singleProductImage(e),void 0!==k.fn.wc_variation_form&&(t=k(s).find(".variations_form"),e=k(s).find(".variations_form .variations select"),t.wc_variation_form(),t.trigger("check_variations"),e.change()),k(s).addClass("in"),k(s).fadeIn(),setTimeout(function(){i.css({width:"",height:""})},1e3),G5_Core.util.tooltip(),G5_Woocommerce.saleCountdown(),k(i).find(".single-product-image-thumb a").off("click").on("click",function(t){t.preventDefault()})})):(k(s).length&&k(s).remove(),m.append(a),e=k(".quick-view-product-image",s),G5_Woocommerce.singleProductImage(e),void 0!==k.fn.wc_variation_form&&(t=k(s).find(".variations_form"),e=k(s).find(".variations_form .variations select"),t.wc_variation_form(),t.trigger("check_variations"),e.change()),k(s).modal(),G5_Core.util.tooltip(),G5_Woocommerce.saleCountdown(),k(s).find(".single-product-image-thumb a").off("click").on("click",function(t){t.preventDefault()})),G5_Woocommerce.addCartQuantity(),f=!1},error:function(t){f=!1}}))})},addCartQuantity:function(){k(document).off("click",".quantity .btn-number").on("click",".quantity .btn-number",function(t){t.preventDefault();var e=k(this).data("type"),a=k("input",k(this).parent()),i=parseFloat(a.val()),o=parseFloat(a.attr("max")),n=parseFloat(a.attr("min")),s=parseFloat(a.attr("step")),t=0;0<a.attr("step").indexOf(".")&&(t=a.attr("step").split(".")[1].length),isNaN(o)&&(o=-1),isNaN(n)&&(n=0),isNaN(s)&&(s=1,t=0),isNaN(i)?a.val(n):("minus"==e&&(n<i&&(i=(i-s).toFixed(t),a.val(i).change()),parseFloat(a.val())<=n&&(a.val(n).change(),k(this).attr("disabled",!0))),"plus"==e&&((-1===o||i<o)&&(i=(i+s).toFixed(t),a.val(i).change()),-1!==o&&parseFloat(a.val())>=o&&(a.val(o).change(),k(this).attr("disabled",!0))))}),k("input",".quantity").on("focusin",function(){k(this).data("oldValue",k(this).val())}),k("input",".quantity").on("change",function(){var t=k(this),e=parseFloat(t.attr("max")),a=parseFloat(t.attr("min")),i=parseFloat(t.val()),t=parseFloat(t.attr("step"));isNaN(e)&&(e=-1),isNaN(a)&&(a=0),isNaN(t);t=k(".add_to_cart_button",k(this).parent().parent().parent());a<=i?(k(".btn-number[data-type='minus']",k(this).parent()).removeAttr("disabled"),void 0!==t&&t.attr("data-quantity",i)):(alert(g5plus_woocommerce_var.localization.add_cart_quantity.min),k(this).val(k(this).data("oldValue")),void 0!==t&&t.attr("data-quantity",k(this).data("oldValue"))),-1===e||i<=e?(k(".btn-number[data-type='plus']",k(this).parent()).removeAttr("disabled"),void 0!==t&&t.attr("data-quantity",i)):(alert(g5plus_woocommerce_var.localization.add_cart_quantity.max),k(this).val(k(this).data("oldValue")),void 0!==t&&t.attr("data-quantity",k(this).data("oldValue")))})},setCartScrollBar:function(t){k(".cart_list.product_list_widget").perfectScrollbar({wheelSpeed:.5,suppressScrollX:!0}),t&&t()},singleProductImage:function(t){var e=t.find(".single-product-image-main"),o=e.find(".zoom-image"),n=e.find("img").attr("srcset",""),a=t.find(".single-product-image-thumb"),s=null,t=5;a.attr("hidden","hidden"),0!==a.closest(".quick-view-product-image").length&&(t=4),a.on("initialized.owl.carousel",function(t){a.find(".owl-item").eq(0).addClass("current"),setTimeout(function(){a.removeAttr("hidden")},1e3)}).owlCarousel({items:5,nav:!1,dots:!1,rtl:r,lazyLoad:i,margin:10,responsive:{992:{items:t},768:{items:3}}}).on("changed.owl.carousel",function(t){var e=k(t.target).find('[data-index="'+t.item.index+'"]'),a=e.attr("data-large-image"),i=e.attr("href"),e=e.closest(".owl-item");k(t.target).find(".owl-item").removeClass("current"),e.addClass("current"),o.attr("href",i),null!=s&&clearTimeout(s);s=setTimeout(function(){n.stop().animate({opacity:0},function(){n.attr("src",a),n.imagesLoaded({src:!0},function(){n.animate({opacity:1}),G5_Core.util.magnificPopup()})})},200)}),a.on("mouseenter mouseleave",".owl-item",function(t){var e;t.preventDefault(),k(this).hasClass("current")||(t=k(this).index(),t=k(this).find('[data-index="'+t+'"]'),e=t.attr("data-large-image"),t=t.attr("href"),k(this).closest(".owl-carousel").find(".owl-item").removeClass("current"),k(this).addClass("current"),o.attr("href",t),null!=s&&clearTimeout(s),s=setTimeout(function(){n.stop().animate({opacity:0},function(){n.attr("src",e),n.imagesLoaded({src:!0},function(){n.animate({opacity:1}),G5_Core.util.magnificPopup()})})},200))}),k(document).on("found_variation",function(t,e){void 0!==e&&void 0!==e.variation_id&&(e=e.variation_id,k('a[data-variation_id*="|'+e+'|"]',a).closest(".owl-item").trigger("mouseenter"))}),k(document).on("reset_data",function(t){k('a[data-index="0"]',a).closest(".owl-item").trigger("mouseenter")})},saleCountdown:function(){function a(t,e){var a=parseInt(t.offset.seconds),i=parseInt(t.offset.minutes),o=parseInt(t.offset.hours),t=parseInt(t.offset.totalDays);t<10&&(t="0"+t),o<10&&(o="0"+o),i<10&&(i="0"+i),a<10&&(a="0"+a),k(".countdown-day",e).text(t),k(".countdown-hours",e).text(o),k(".countdown-minutes",e).text(i),k(".countdown-seconds",e).text(a)}k(".product-deal-countdown").each(function(){var t=k(this).data("date-end"),e=k(this);e.countdown(t,function(t){a(t,e)}).on("update.countdown",function(t){a(t,e)})}),G5_Woocommerce.saleCountdownWidth()},saleCountdownWidth:function(){k(".product-deal-countdown").each(function(){var t=0;k(this).removeClass("small"),k(".countdown-section",k(this)).each(function(){t+=k(this).outerWidth()+parseInt(k(this).css("margin-left").replace("px",""),10)}),t>k(this).outerWidth()&&k(this).addClass("small")})},yith_wcan_ajax_filtered:function(){k(document).on("yith-wcan-ajax-filtered",function(t,e){var a=m;"undefined"!=typeof yith_wcan&&void 0!==yith_wcan.container&&(a=k(yith_wcan.container)),new G5_Core_Animation(a),a.find(".gsf-pretty-tabs").gsfPrettyTabs({more_text:spring_plant_variable.pretty_tabs_more_text}),G5_Core.lazyLoad.init(),G5_Core.off_canvas.init(),G5_Core.util.tooltip()})},events:function(){var t=null;k(window).on("resize",function(){null!=t&&clearTimeout(t),t=setTimeout(function(){G5_Woocommerce.processTabs(),G5_Woocommerce.productSize()},200)}),k("[data-items-wrapper].products").on("gf_pagination_ajax_success",function(){G5_Woocommerce.productSize()})},productSize:function(){k(".product-item-wrap").each(function(){k(this).removeClass("product-small"),k(this).width()<300&&k(this).addClass("product-small")})}},k(document).ready(function(){G5_Woocommerce.init()})}(jQuery);